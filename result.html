<!doctype html><html lang="zh-Hant"><head><meta charset='utf-8'><meta name='viewport' content='width=device-width,initial-scale=1'><title>成績</title><link rel='stylesheet' href='styles.css'></head><body><div class='container'><header><h1>測驗成績</h1><div style="position:absolute;right:16px;top:16px"><button class="btn ghost" onclick="location.href=BASE_PATH+'home.html'">← 返回主選單</button></div></header><main><div id='report' class='card-center'>載入中…</div></main></div><script src='app-common.js'></script><script>
(function(){ const r = loadLastResult(); const el = document.getElementById('report'); if(!r){ el.innerHTML = '<p>沒有成績紀錄。</p>'; return; } el.innerHTML = `<h3>單元：${r.unit||''}</h3><p>作答時間：${r.time} 秒</p><p>正確率：${r.accuracy}%</p><p>分數：${r.score} 分</p><p>完成時間：${new Date(r.timestamp).toLocaleString()}</p>`; const details = JSON.parse(localStorage.getItem('lastAnswers')||'null'); if(details && details.answers){ const wrongs = details.answers.filter(a=>!a.isCorrect); el.innerHTML += `<h4 style="margin-top:12px">錯題（共 ${wrongs.length} 題）</h4>`; if(wrongs.length===0){ el.innerHTML += '<p>恭喜全部答對！</p>'; } else { el.innerHTML += '<ol>'; wrongs.forEach(w=>{ el.innerHTML += `<li style="margin-bottom:8px"><div><strong>${w.index}. ${w.type==='A'?'英→中':'中→英'}</strong></div><div>題目：${escapeHtml(w.prompt)}</div><div>你的答案：${escapeHtml(w.selected)}</div><div style="color:#2d6df6">正確答案：${escapeHtml(w.correct)}</div></li>`; }); el.innerHTML += '</ol>'; } } // link to wrongbook
el.innerHTML += '<p style="margin-top:8px"><a href="wrongbook.html?u=' + (r.unit||'unit1') + '">查看錯題本</a></p>'; })();
</script></body></html>